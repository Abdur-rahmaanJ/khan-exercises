<!DOCTYPE html>
<html data-require="math graphie graphie-helpers graphie-geometry math-format">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Solving similar triangles 1.5</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
        <div class="vars">
            <var id="SIDE_A">randRange(2, 10)</var>
            <var id="HEIGHT_A">randRange(1, SIDE_A)</var>
            <var id="ANGLE">atan(HEIGHT_A / SIDE_A) * 180 / PI</var>
            
            <var id="SIDE_B">randRange(2, 10)</var>
            <var id="HEIGHT_N">(SIDE_A + SIDE_B) * HEIGHT_A</var>
            <var id="GCD">getGCD(HEIGHT_N, SIDE_A)</var>
            <var id="HEIGHT_B">HEIGHT_N / SIDE_A</var>
            <var id="HEIGHT_B2">fractionReduce(HEIGHT_N, SIDE_A)</var>

            <var id="TRI_A">new Triangle([0, 0],  [ANGLE, 90, 90 - ANGLE], 50 * (SIDE_A / (SIDE_A + SIDE_B)) * HEIGHT_A / HEIGHT_B, {})</var>
            <var id="TRI_B">function(){
                    var trA = new Triangle([0, 0],  [ANGLE, 90, 90 - ANGLE], 50, {});
                    trA.labels = { "points" : ["A", "D", "E"] };
                    return trA;
                }()
            </var>
        </div>

        <div class="problems">
            <div id="side-a">
                <div class="vars">
                    <var id="LABELS">["x", HEIGHT_A, SIDE_B, HEIGHT_B2]</var>
                </div>

                <div class="solution"><var>SIDE_A</var></div>

                <div class="hints" data-apply="appendContents">
                    <div>
                        <p><code>\overline{AB} : \overline{BC} = \dfrac{x}{<var>HEIGHT_A</var>}</code></p>
                        <p data-if="HEIGHT_N % SIDE_A"><code>
                            \overline{AD} : \overline{DE} = (x + <var>SIDE_B</var>) \div <var>HEIGHT_B2</var> = 
                            <var>fractionReduce(SIDE_A, HEIGHT_N)</var>(x + <var>SIDE_B</var>)
                        </code></p>
                        <p data-else=""><code>\overline{AD} : \overline{DE} = \dfrac{x + <var>SIDE_B</var>}{<var>HEIGHT_B</var>}</code></p>
                    </div>

                    <p data-if="HEIGHT_N % SIDE_A"><code>
                        \dfrac{x}{<var>HEIGHT_A</var>} = <var>fractionReduce(SIDE_A, HEIGHT_N)</var>(x + <var>SIDE_B</var>)
                    </code></p>
                    <p data-else=""><code>
                        \dfrac{x}{<var>HEIGHT_A</var>} = \dfrac{x + <var>SIDE_B</var>}{<var>HEIGHT_B</var>}
                    </code></p>

                    <p><code>
                        <var>HEIGHT_N / GCD</var>x =
                        <span data-if="HEIGHT_A !== 1"><var>HEIGHT_A</var></span>
                        <span data-if="HEIGHT_A !== 1 && SIDE_A / GCD !== 1">\cdot</span>
                        <span data-if="SIDE_A / GCD !== 1"><var>SIDE_A / GCD</var></span>
                        <span data-if="HEIGHT_A * SIDE_A / GCD === 1"> x + <var>SIDE_B</var></span>
                        <span data-else=""> (x + <var>SIDE_B</var>)</span>
                    </code></p>

                    <p data-if="HEIGHT_A * SIDE_A / GCD !== 1"><code>
                        <var>HEIGHT_N / GCD</var>x = <var>HEIGHT_A * SIDE_A / GCD</var>x + <var>HEIGHT_A * SIDE_A * SIDE_B / GCD</var>
                    </code></p>

                    <p><code>
                        <var>plus((HEIGHT_N - HEIGHT_A * SIDE_A) / GCD + "x")</var> = <var>HEIGHT_A * SIDE_A * SIDE_B / GCD</var>
                    </code></p>

                    <p><code>x = <var>SIDE_A</var></code></p>
                </div>
            </div>

            <div id="height-a">
                <div class="vars">
                    <var id="LABELS">[SIDE_A, "x", SIDE_B, HEIGHT_B2]</var>
                </div>

                <div class="solution"><var>HEIGHT_A</var></div>

                <div class="hints" data-apply="appendContents">
                    <p><code>\overline{AD} : \overline{AB} = <var>fraction(HEIGHT_A, SIDE_A)</var></code></p>

                    <p><code>
                        \overline{DE} : \overline{AD} = \dfrac{\overline{DE}}{<var>SIDE_A + SIDE_B</var>}
                         = <var>fraction(HEIGHT_A, SIDE_A)</var>
                     </code></p>

                     <p><code>
                        \overline{DE} = <var>SIDE_A + SIDE_B</var> \times <var>fraction(HEIGHT_A, SIDE_A)</var> = <var>HEIGHT_B2</var>
                     </code></p>
                </div>
            </div>

            <div id="side-b">
                <div class="vars">
                    <var id="LABELS">[SIDE_A, HEIGHT_A, "x", HEIGHT_B2]</var>
                </div>

                <div class="solution"><var>SIDE_B</var></div>

                <div class="hints" data-apply="appendContents">
                    <p><code>\overline{BC} : \overline{AB} = <var>fraction(HEIGHT_A, SIDE_A)</var></code></p>

                    <p><code>
                        \overline{DE} : \overline{AD} = \dfrac{\overline{DE}}{<var>SIDE_A + SIDE_B</var>}
                         = <var>fraction(HEIGHT_A, SIDE_A)</var>
                     </code></p>

                     <p><code>
                        \overline{DE} = <var>SIDE_A + SIDE_B</var> \times <var>fraction(HEIGHT_A, SIDE_A)</var> = <var>HEIGHT_B2</var>
                     </code></p>
                </div>
            </div>

            <div id="height-b">
                <div class="vars">
                    <var id="LABELS">[SIDE_A, HEIGHT_A, SIDE_B, "x"]</var>
                </div>

                <div class="solution"><var>HEIGHT_B</var></div>

                <div class="hints" data-apply="appendContents">
                    <p><code>\overline{BC} : \overline{AB} = <var>fraction(HEIGHT_A, SIDE_A)</var></code></p>

                    <p><code>
                        \overline{DE} : \overline{AD} = \dfrac{\overline{DE}}{<var>SIDE_A + SIDE_B</var>}
                         = <var>fraction(HEIGHT_A, SIDE_A)</var>
                     </code></p>

                     <p><code>
                        \overline{DE} = <var>SIDE_A + SIDE_B</var> \times <var>fraction(HEIGHT_A, SIDE_A)</var> = <var>HEIGHT_B2</var>
                     </code></p>
                </div>
            </div>

        </div>

        <div class="problem"><p>What is the value of <code>x</code>?</p></div>
        <div class="question">
            <div class="graphie" id="triangles">
                var tri_range = TRI_B.boundingRange(1);

                init({
                    range: [[tri_range[0][0], tri_range[0][1]],
                            [tri_range[1][0], tri_range[1][1]]],
                    scale: 400 / (tri_range[0][1] - tri_range[0][0])
                })

                style({
                    strokeWidth: 1,
                    stroke: KhanUtil.BLACK
                });

                var x_max = TRI_B.boundingRange()[0][1];
                var y_max = TRI_B.boundingRange()[1][1];
                var line_x = x_max * SIDE_A / (SIDE_A + SIDE_B);
                var line_y = y_max * HEIGHT_A / HEIGHT_B;
                var square = (tri_range[0][1] - tri_range[0][0]) / 25;

                rect(x_max - square, 0, square, square);
                rect(line_x - square, 0, square, square);

                style({
                    strokeWidth: 2,
                    stroke: KhanUtil.BLUE
                });

                TRI_A.draw();
                TRI_B.draw();
                TRI_B.drawLabels();

                style({
                    color: "black"
                });
                label([line_x, 0], "B", "below");
                label([line_x, line_y], "C", "above");

                label([line_x/2, 0], LABELS[0], "below");
                label([line_x, line_y/2], LABELS[1], "right");
                label([(SIDE_A + SIDE_B/2) * x_max / (SIDE_A + SIDE_B), 0], LABELS[2], "below");
                label([x_max, y_max/2], LABELS[3], "right");
            </div>
        </div>

        <div class="hints">
            <p>
                Notice that <code>\triangle ABC</code> and <code>\triangle ADE</code> 
                both have a right angle and share <code>\angle BAC</code>.
            </p>

            <p>Therefore <code>\triangle ABC</code> and <code>\triangle ADE</code> are similar triangles.</p>
            
            <p>
                Therefore, the ratio <code>\overline{AB} : \overline{BC}</code>
                is equal to the ratio <code>\overline{AD} : \overline{DE}</code>
            </p>
        </div>

    </div>
</body>
</html>
