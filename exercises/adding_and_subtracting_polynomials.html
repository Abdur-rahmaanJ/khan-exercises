<!DOCTYPE html>
<html data-require="math math-format polynomials functional">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Adding and subtracting polynomials</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
        <div class="vars">
            <var id="X">randVar()</var>
            <var id="COLORS">[BLUE, ORANGE, GREEN]</var>
            <var id="N">randRange(2, 3)</var>
            <var id="SIGNS">_(N).times(function() { return randFromArray(["-", "+"]); })</var>
            <var id="MAX_DEGREE">7</var>
            <var id="NON_ZERO_INDICES">randRangeUnique(1, MAX_DEGREE, randRange(2, 3))</var>
            <var id="POL_1, POL_2">
                tabulate(function() {
                    var coefs = [];
                    for (var i = 0; i &lt;= MAX_DEGREE; i++) {
                        if (NON_ZERO_INDICES.indexOf(i) !== -1) {
                            coefs[i] = randRangeNonZero(-7, 7);
                        } else {
                            coefs[i] = 0;
                        }
                    }
                    return new Polynomial(0, MAX_DEGREE, coefs, X);
                }, 2)
            </var>
        </div>

        <div class="problems">
            <div id="add">
                <div class="vars">
                    <var id="SIGN">"+"</var>
                    <var id="SOLUTION">POL_1.add(POL_2).parsableText()</var>
                </div>

                <p class="question">Simplify the expression.</p>
                <p class="problem"><code>(<var>POL_1</var>) <var>SIGN</var> (<var>POL_2</var>)</code></p>
                <p class="solution" data-type="expression" data-simplify><var>SOLUTION</var></p>
            </div>

            <div id="subtract" data-type="add">
                <div class="vars">
                    <var id="SIGN">"-"</var>
                    <var id="SOLUTION">POL_1.subtract(POL_2).parsableText()</var>
                </div>

                <div class="hints" data-apply="appendContents">
                    <div id="paren">
                        <p>Since this is subtraction, when removing the parenthesis we must distribute the minus sign to all terms in the second polynomial.</p>
                        <var>POL_2 = POL_2.multiply( -1 ), null</var>
                        <p><code><var>POL_1</var> + <var>POL_2</var></code></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="hints">
            <div id="paren">
                <p>Since this is addition, we can remove the parenthesis without any extra steps.</p>
                <p><code><var>POL_1</var> + <var>POL_2</var></code></p>
            </div>
            <div>
                <p>Identify like terms.</p>
                <p><code><span data-each="[ POL_1, POL_2 ] as POL"><span data-each="NON_ZERO_INDICES as n, index" data-unwrap=""><var>( POL.coefs[ index ] &lt; 0 ) ? "-" : ( n === 0 &amp;&amp; POL === POL_1 ) ? "" : "+"</var>\color{<var>COLORS[ n ]</var>}{<var>abs( POL.coefs[ index ] ) === 1 ? "" : abs( POL.coefs[ index ] )</var><var>X</var>^<var>index</var>}</span></span></code></p>

            </div>
            <div>
                <p>Combine like terms.</p>
                <p><code><span data-each="NON_ZERO_INDICES as n, index"><span data-if="n !== 0">+</span>\color{<var>COLORS[ n ]</var>}{(<var>POL_1.coefs[ index ]</var> + <var>POL_2.coefs[ index ]</var>)<var>X</var>^<var>index</var>}</span></code></p>
            </div>
            <div>
                <p>Add the coefficients.</p>
                <p><code><var>POL_1.add(POL_2).text()</var></code></p>
            </div>
        </div>
    </div>
</body>
</html>
